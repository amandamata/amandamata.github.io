<!doctype html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  <meta name="generator" content="Hugo 0.111.3">

  
  <meta name="description" content="amandamata">
  

  
  <link rel="apple-touch-icon" sizes="180x180" href="https://amandamata.github.io/apple-touch-icon.png">

  
  <link rel="icon" type="image/png" sizes="32x32" href="https://amandamata.github.io/favicon-32x32.png">

  
  <link rel="icon" type="image/png" sizes="16x16" href="https://amandamata.github.io/favicon-16x16.png">

  
  <link rel="mask-icon" href="https://amandamata.github.io/safari-pinned-tab.svg" color="#5bbad5">

  <meta name="msapplication-TileColor" content="#da532c">

  <meta name="theme-color" content="#ffffff">

  
  <link rel="stylesheet" href="https://amandamata.github.io/css/bootstrap.min.css" />

  
  <title>Implementing a redis cache in dotnet | amandamata</title>
  

  <style>
body {
  min-width: 300px;
}

.custom-navbar {
  margin-bottom: 1em;
  height: 60px;
}

.custom-navbar a {
  display: inline-block; 
  padding: 18px 0;
  margin-right: 1em; 
  font-weight: bold; 
}

.custom-navbar a:hover,
.custom-navbar a:focus {
  text-decoration: none; 
}

@media print {
  .custom-navbar {
    display: none;
  }
}

article {
  padding-bottom: 1em;
}

img {
  max-width: 100%;
}


body {
  background-color: #fff;
}



body {
  color: #212529;
}



a {
  color: #007bff;
}



a:hover,
a:focus {
  color: #0056b3;
}



.custom-navbar {
  background-color: #212529;
}



.custom-navbar a {
  color: rgba(255, 255, 255, 0.75);
}



.custom-navbar a:hover,
.custom-navbar a:focus {
  color: rgba(255, 255, 255, 1);
}



.container {
  max-width: 800px;
}



pre {
  display: block;
  padding: 9.5px;
  word-break: break-all;
  word-wrap: break-word;
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
}

pre code {
  padding: 0;
  font-size: inherit;
  color: inherit; 
  white-space: pre-wrap;
  background-color: transparent;
  border: none;
  border-radius: 0;
}

code {
  padding: 2px 4px;
  color: inherit; 
  background-color: #f5f5f5;
  border: 1px solid #ccc;
  border-radius: 4px;
  font-size: .9em;
}



blockquote,
.blockquote {
  padding: 10px 20px;
  margin: 0 0 20px;
  font-size: 1em;
  border-left: 5px solid #6c757d;
}

</style>
</head>

<body>
  <nav class="custom-navbar">
  <div class="container">
    
    <a href="/">Posts</a>
    
    <a href="/tags/">Tags</a>
    
    <a href="/about/">About</a>
    
    
    <a href="https://amandamata.github.io/">en</a>
    
    <a href="https://amandamata.github.io/pt-pt/">pt</a>
    
  </div>
</nav>
  
  <div class="container">
    <article>
      <h1>Implementing a redis cache in dotnet</h1>
<p>
  <small class="text-secondary">
  
  
  Apr 25, 2023
  </small>
  

<small><code><a href="https://amandamata.github.io/tags/cache">cache</a></code></small>


<small><code><a href="https://amandamata.github.io/tags/redis">redis</a></code></small>


<small><code><a href="https://amandamata.github.io/tags/dotnet">dotnet</a></code></small>

  

</p>
<p>I recently had to implement a cache in an application to avoid unnecessary database queries, and that was cool. I&rsquo;ve worked with Redis in the past, but I think I&rsquo;ve done it the wrong way because implementing a cache with Redis has never been so cool.
<br/><br/></p>
<h5 id="redis-vs-mem-cached">Redis vs Mem cached</h5>
<p>Redis is almost like a NoSql database, but it is even better because it stores data with key and value and with that, it is much easier to use it as a cache.
But the main point in this comparison is: it depends, it depends on how and how much data will be used in this cache. If you&rsquo;re not sure how to store session information, MemCache makes sense. But if we&rsquo;re talking about a lot of queries with bigger data, like the data we store in the database, Redis does a better job. This is because when using MemCache we are using the application&rsquo;s memory to save that information, since Redis is a distributed cache, it has nothing to do with the application&rsquo;s memory and it is possible to use more than one Redis database, scaling this service vertically according to demand grow up.</p>
<p>The first time it is necessary to use the cache the information will not be there, so it is necessary to consult the database and save it in the cache, the second time it is no longer necessary to go to the database, because the information will be in the cache. And this makes the application take less time to respond to a request, as going to the bank takes much longer than going to Redis.</p>
<p><img src="https://amandamata.github.io/img/redis.png" alt="Redis" class="some-class" style="some-style">
<br/><br/></p>
<h5 id="implementation">Implementation</h5>
<p>Explanation given let&rsquo;s implement!
For this implementation we will follow a pattern called Decorator, with this pattern it is possible to add a cache layer without adding more complexity to the repository layer.</p>

    </article>
  </div>

  
  
  

  

  
<link rel="stylesheet" type="text/css" href="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.css" />
<script src="//cdnjs.cloudflare.com/ajax/libs/cookieconsent2/3.1.0/cookieconsent.min.js"></script>
<script>
window.addEventListener("load", function(){
window.cookieconsent.initialise({
  "palette": {
    "popup": {
      "background": "#216942",
      "text": "#b2d192"
    },
    "button": {
      "background": "#afed71"
    }
  }
})});
</script>

</body>

</html>
